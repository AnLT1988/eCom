<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <title>Test Suite</title>
        <link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.14.0.css">
    </head>
    <body>
        <div id="qunit"></div>
        <div id="qunit-fixture">
            <form>
                <table id="cart_item_table">
                    <tr>
                        <td>product description</td>
                        <td>
                            <input type=button id="increase" onclick="incrCartItem('quantity')" value=Increase>
                            <input type=text id="quantity" value=1>
                            <input type=button id="decrease" value=Decrease>
                        </td>
                    </tr>
                </table>
            </form>
            <button id="update" disabled='true'>Update</button>
        </div>
        <script src="https://code.jquery.com/qunit/qunit-2.14.0.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="../shopping_cart.js"></script>
        <script>
            const add = (a, b) => a + b;
            QUnit.module('add', function() {
                QUnit.test('should add two numbers', function(assert) {
                    assert.equal(add(1, 1), 2, '1 + 1 = 2');
                });

                QUnit.test('should increase the numbers', function(assert) {
                    let quantity = $('#quantity').attr('value');
                    console.log('Quantity:' + quantity)
                    $('#increase').trigger("click");
                    assert.equal(Number(quantity) + 1, Number($('#quantity').attr('value')));
                })

                QUnit.test('should enable the update button', function(assert) {
                    let updateButton = $('#update')
                    assert.equal(updateButton.is(':disabled'), true)

                    $('#increase').trigger("click");
                    assert.equal(updateButton.is(':disabled'), false)
                })
            });
        </script>
    </body>
</html>
