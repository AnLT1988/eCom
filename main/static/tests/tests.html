<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <title>Test Suite</title>
        <link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-2.14.0.css">
    </head>
    <body>
        <div id="qunit"></div>
        <div id="qunit-fixture">
            <table id="cart_item_table">
                <tr>
                    <td>product description</td>
                    <td>
                        <button id="increase" onclick="incrCartItem('quantity')">Increase</button>
                        <div id="quantity">1</div>
                        <button id="decrease">Descrease</button>
                    </td>
                </tr>
            </table>
            <button id="update" disabled='true'>Update</button>
        </div>
        <script src="https://code.jquery.com/qunit/qunit-2.14.0.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="../shopping_cart.js"></script>
        <script>
            const add = (a, b) => a + b;
            QUnit.module('add', function() {
                QUnit.test('should add two numbers', function(assert) {
                    assert.equal(add(1, 1), 2, '1 + 1 = 2');
                });

                QUnit.test('should increase the numbers', function(assert) {
                    let quantity = $('#quantity').text();
                    console.log('Quantity:' + quantity)
                    $('#increase').trigger("click");
                    assert.equal(Number(quantity) + 1, Number($('#quantity').text()));
                })

                QUnit.test('should enable the update button', function(assert) {
                    let updateButton = $('#update')
                    assert.equal(updateButton.is(':disabled'), true)

                    $('#increase').trigger("click");
                    assert.equal(updateButton.is(':disabled'), false)
                })
            });
        </script>
    </body>
</html>
